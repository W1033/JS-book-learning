<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>æ‹·è´ç»§æ‰¿</title>
</head>
<body>
    <script type="text/javascript">

        /** 2019-01-08 æ·»åŠ æ³¨è§£ */
        function deepCopy(parent, child) {
            child = child || {};
            for (let i in parent) {
                // typeof Array|[]|Object|{} éƒ½ä¼šè¿”å› object
                // å¦‚æœç›‘æµ‹åˆ° parent çš„å­é¡¹æ˜¯ object èµ° if
                if (typeof parent[i] === "object") {
                    // å¦‚æœå½“å‰ parent å­é¡¹åˆ©ç”¨ constructor å±æ€§ï¼Œæ‰¾åˆ°å…¶æ„é€ å‡½æ•°ä¸º Array å°±æŠŠä¸€ä¸ªç©ºæ•°ç»„èµ‹å€¼ç»™å½“å‰
                    // child[i] (æ³¨: æ­¤æ—¶ child[i] çš„ key ä¸º birthPlaces , value = [] )
                    child[i] = (parent[i].constructor === Array) ? [] : {};
                    // æŠŠ parent[2]é¡¹ï¼Œå’Œ child[i] = (birthPlaces=[]) å†æ¬¡ä¼ å…¥åˆ° deepCopyä¸­ï¼Œæ‰§è¡Œå
                    // child[2] å¾—åˆ° parent[2] ä¸­çš„æ•°ç»„å†…å®¹
                    deepCopy(parent[i], child[i]);
                    console.log(child);
                } else { // å¦‚æœ parent çš„å­é¡¹æ˜¯åŸºæœ¬ç±»å‹(Undefined|Null|Number|Boolean|String|Symbol)çš„å€¼èµ° else
                    child[i] = parent[i];
                }
            }
            return child;
        }

        //è°ƒç”¨ç¤ºä¾‹:
        var Chinese = {
            nation: "ä¸­å›½",
            birthPlaces: ["åŒ—äº¬", "ä¸Šæµ·", "æ·±åœ³"]
        };

        var Doctor = deepCopy(Chinese);
        Doctor.career = "åŒ»ç”Ÿ";
        Doctor.birthPlaces.push("å¦é—¨");

        console.log(Doctor);        // { nation: 'ä¸­å›½', birthPlaces: [ 'åŒ—äº¬', 'ä¸Šæµ·', 'æ·±åœ³', 'å¦é—¨' ], career: 'åŒ»ç”Ÿ' }


        var o1 = {
            arr: [1, 2, 3],
            obj: {
                key: 'value'
            },
            func: function(){
                return 1;
            }
        };
        var o3 = deepCopy(o1);
        console.log(o3 === o1); // false
        console.log(o3.obj === o1.obj); // false

        /**
         * ğŸ”º jQueryä¸­çš„extendæ–¹æ³•åŸºæœ¬çš„å°±æ˜¯æŒ‰ç…§è¿™ä¸ªæ€è·¯å®ç°çš„ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•å¤„ç†æºå¯¹è±¡å†…éƒ¨å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œ
         * åŒæ—¶å¯¹Dateï¼ŒFuncionç­‰ç±»å‹å€¼ä¹Ÿæ²¡æœ‰å®ç°çœŸæ­£çš„æ·±åº¦å¤åˆ¶ï¼Œä½†æ˜¯è¿™äº›ç±»å‹çš„å€¼åœ¨é‡æ–°å®šä¹‰çš„æ—¶å€™ä¸€èˆ¬éƒ½
         * æ˜¯ç›´æ¥è¦†ç›–ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šå¯¹æºå¯¹è±¡äº§ç”Ÿå½±å“ï¼Œä»ä¸€å®šç¨‹åº¦ä¸Šæ¥è¯´ä¹Ÿç®—æ˜¯å®ç°äº†ä¸€ä¸ªæ·±æ‹·è´ã€‚
         * */

        // ä»è¿™ä¸ªè¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ª deepCopy å¹¶æ²¡æœ‰è§£å†³ Function ç±»å‹çš„æ·±åº¦å¤åˆ¶ï¼Œ(æ·±åº¦å¤åˆ¶å°±æ˜¯: copy
        // ä¸€ä»½å®Œæ•´çš„æ•°æ®ï¼Œ01 å’Œ 03 æ˜¯ä¸¤ä»½ä¸åŒçš„æ•°æ®ï¼Œæ‰€ä»¥ o3.obj ï¼== 01.obj , ä½†æ˜¯è¿™é‡Œ
        // o3.func === o1.func çš„ç»“æœä¸º true, æ‰€ä»¥å°±åº”è¯¥æ˜¯äº’ç›¸å¼•ç”¨çš„ã€‚)
        console.log(o3.func === o1.func); // true



    </script>
</body>
</html>