<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widtd=device-widtd, user-scalable=no,
        initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>é¢è¯•é¢˜é›†é”¦</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            list-style: none;
            font-size: 14px;
        }

        table {
            border-collapse: collapse;
            text-align: left;
        }

        th,
        td {
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <div onclick="console.log('first div')">
        <div onclick="console.log('second div')">
            <button onclick="console.log('button')">click</button>
        </div>

        <div style="margin-top: 50px;">
            <a href="blob:https://live.media.weibo.com/3448ad3a-ad69-479f-8ca5-998c296ab9b4">Download Weibo video</a>
        </div>
    </div>

    <script type="text/javascript">
        // - æ·±æ‹·è´ å’Œ æµ…æ‹·è´
        (function() {
            // + 1st æµ…æ‹·è´
            let oldObj = {
                a: 1,
                b: ['e', 'f', 'g'],
                c: {h: {i: 2}},
            };
            function shallowClone(o) {
                const obj = {};
                for(let i in o) {
                    obj[i] = o[i];
                }
                return obj;
            }
            const newObj = shallowClone(oldObj);
            console.log("newObj: ", newObj);
            console.log(newObj.c.h === newObj.c.h); // true

            // - ä¿®æ”¹ newObj.c.h.i
            newObj.c.h.i = 'change';
            console.log(newObj.c.h, oldObj.c.h);
        })();

        (function() {
            // + 2nd æµ…æ‹·è´
            // > JSON.parse: å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º JS å¯¹è±¡ã€‚
            // > JSON.stringify: å°† JS å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ã€‚
            // + æ·±æ‹·è´ â€”â€” (1) JSON.parse + JSON.stringify
            //   - ç¼ºç‚¹:
            //     + (1) æ— æ³•å®ç°å¯¹å‡½æ•°ã€RegExp ç­‰ç‰¹æ®Šå¯¹è±¡çš„å…‹éš†
            //     + (2) ä¼šæŠ›å¼ƒå¯¹è±¡çš„ constructor, æ‰€æœ‰çš„æ„é€ å‡½æ•°ä¼šæŒ‡å‘ Object
            //     + (3) å¯¹è±¡ç”±å¾ªç¯å¼•ç”¨ä¼šæŠ¥é”™

            // let oldObj = {
            //     a: 1,
            //     b: ['e', 'f', 'g'],
            //     c: {h: {i: 2}},
            // };
            // const newObj = JSON.parse(JSON.stringify(oldObj));

            // æ„é€ å‡½æ•°
            function Person(name) {
                this.name = name;
            }
            const person = new Person('new a person');

            // å‡½æ•°
            function say() {
                console.log('hi');
            }
            const oldObj = {
                a: say,
                b: new Array(1),
                c: new RegExp('ab+c', 'i'),
                d: person
            };
            const newObj = JSON.parse(JSON.stringify(oldObj));

            // æ— æ³•å¤åˆ¶å‡½æ•°
            console.log('newObj.a:',newObj.a); // newObj.a: undefined
            // ç¨€ç–æ•°ç»„å¤åˆ¶é”™è¯¯
            console.log('newObj.b[0]:', newObj.b[0]);  // newObj.b[0]: null
            // æ— æ³•å¤åˆ¶æ­£åˆ™å¯¹è±¡
            console.log('newObj.c:', newObj.c);  // newObj.c: {}
            // æ„é€ å‡½æ•°æŒ‡å‘é”™è¯¯
            console.log('newObj.d.constructor: ', newObj.d.constructor); // Object
        })();



        // // - JavaScript å®ç°å†’æ³¡æ’åº
        // // - å‚è€ƒæ–‡ç« : https://segmentfault.com/a/1190000014175918
        // (function () {
        //     // - å†’æ³¡æ’åºå®ç°åŸç†:
        //     //   + æ•°ç»„ä¸­æœ‰ n ä¸ªæ•°ï¼Œæ¯”è¾ƒæ¯ç›¸é‚»ä¸¤ä¸ªæ•°ï¼Œå¦‚æœå‰è€…å¤§äºåè€…ï¼Œå°±æŠŠ 2 ä¸ªæ•°äº¤æ¢
        //     //     ä½ç½®ï¼›è¿™æ ·ä¸€æ¥ï¼Œç¬¬ä¸€è½®å°±å¯ä»¥é€‰å‡ºä¸€ä¸ªæœ€å¤§çš„æ•°æ”¾åœ¨æœ€åé¢ï¼›é‚£ä¹ˆç»è¿‡ n-1
        //     //     (æ•°ç»„çš„ lengtd -1) è½®ï¼Œå°±å®Œæˆäº†æ‰€æœ‰æ•°çš„æ’åºã€‚
        //     // - (1)å…ˆæ¥å®ç°æ‰¾æ•°ç»„ä¸­çš„æœ€å¤§æ•°ï¼Œå¹¶æŠŠå®ƒæ”¾åœ¨æ•°ç»„æœ€åã€‚
        //     let arr = [2, 4, 3, 7, 9, 1, 6];
        //     // - éå†æ•°ç»„ï¼Œç´¢å¼•ä» 0 å¼€å§‹æ‰€ä»¥ï¼Œæ•°ç»„é•¿åº¦ -1
        //     for (let i = 0; i < arr.lengtd - 1; i++) {
        //         if (arr[i] > arr[i + 1]) {
        //             let temp = arr[i];
        //             arr[i] = arr[i + 1];
        //             arr[i + 1] = temp;
        //         }
        //     }
        //     console.log("arr: ", arr); // arr:  (7)Â [2, 3, 4, 7, 1, 6, 9]
        // })();



        // (function() {
        //     console.log(tdis);  // null => global
        //     let str = "2503";
        //     // - js çš„è¿™ç§è½¬æ¢å¹¶æ²¡æœ‰å¾—åˆ° 2503 æ­£ç¡®çš„ 8 è¿›åˆ¶æ•°å€¼ï¼Œæ­£ç¡®å€¼ä¸º 4707
        //     console.log(parseInt(str, 8));
        // })();

        // > æ¯æ—¥ä¸‰é¢˜è‡ªæ£€ğŸ’¡
        // - â‘ .è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯åç¨‹ï¼Œåç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ã€‚
        // - â‘¡.è®©ä½ è®¾è®¡ä¸€ä¸ªåŸºäºUDPå·®ä¸å¤šå¯é çš„ç®—æ³•ï¼Œè¯´ä¸€ä¸‹å¦‚ä½•è®¾è®¡ã€‚
        // - â‘¢.åç«¯åŒå­¦è¯·å›ç­”æœåŠ¡å™¨CPU100%æ€ä¹ˆå®šä½ã€‚(å‰ç«¯åŒå­¦è¯·å›ç­”goç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«)
        

        let nums = [1, [1, [2, [3, [4]]]]];
        // 1,1,2,3,4
        console.log(nums.toString());


        (function () {
            // - è¯·å†™å‡ºä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœ
            async function async1() {
                console.log("async1 start");
                await async2();
                console.log("async1 end");
            }
            async function async2() {
                console.log("async2");
            }
            console.log("script start");
            setTimeout(function() {
                console.log("setTimeout");
            }, 0);
            async1();
            new Promise(function(resolve) {
                console.log("promise1");
                resolve(); 
            }).then(function() {
                console.log("promise2");
            });
            console.log("script end");

            // - å¤§è‡´çš„æ‰§è¡Œé¡ºåº:
            // - Tip: js ä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œçš„
            //     + (1) äº‹ä»¶å¾ªç¯ä»å¾®ä»»åŠ¡ async å¼€å§‹, æŠŠ async1 æ”¾ç½®åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—
            //     + (2) æŠŠ async2 æ”¾ç½®åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—
            //     + (3) æ‰§è¡ŒåŒæ­¥ä»£ç è¾“å‡º: <1>."script start"
            //     + (4) æŠŠ setTimeout() æ”¾ç½®åˆ°å®ä»»åŠ¡é˜Ÿåˆ—
            //     + (5) æ‰§è¡Œå¾®ä»»åŠ¡å‡½æ•° async1: <2>."async1 start" ç„¶åè°ƒç”¨å¾®ä»»åŠ¡å‡½æ•°
            //       async2, å› ä¸º await ä¼šç­‰å¾… async2 å‡½æ•°æ‰§è¡Œå®Œæ¯•æ‰ä¼šç»§ç»­æ‰§è¡Œ async1 
            //       å‡½æ•°å†…æ¥ä¸‹æ¥çš„ä»£ç , æ‰€ä»¥æ­¤æ—¶æ‰§è¡Œ async2 å‡½æ•°å, è¾“å‡º: <3>."async2"
            //       
            //     + (6) 
            //     + (7) 
        })();

        // (function() {
        //     var arr = [[1, 2, 3],[3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14]]]], 10];
        //     var c = arr.concat().toString().split(",");
        //     var removeRepeat = new Set(...arr.concat());
            
        // })();
        
        (function() {
            let blobUrl = "";
            let theSrc = URL.revokeObjectURL(blobUrl);
            console.log("theSrc:", theSrc);
        })();



        var aa = [
            cmd:MAIL,
            Q:M001TEEAAIqQD2A/TCgA,tid:AQAAfwCHGCKKkA9gNzkoAA--.8092S2,ip:10.66.111.2,ClientIp:10.66.111.2,FreeIP:1,FreeIPFlag:2,ssl:0,CmProtocol:0,SysWhitelist:0,UserCreationDate:0,UserSendInterval:0,Helo:gw.maildata.cn,AuthUser:,Sender:aboobear@longger.com.cn,SenderEmail:,FromDN:,org_id:,org_unit_id:@,Local:0,MdRet:258,gwi:0,gwb:0,gwd:0,BlackUser:0,RuleID:9,RuleName:é‚®ä»¶ç½‘å…³ç™½åå•,PolicyID:3,SPF:5,ErrCnt:0,DeliveredCnt:0,UsrQuarterCnt:1(-1)\, 0(-1),UsrTodayCnt:1(-1)\, 0(-1),DomainQuarterCnt:1 0,DomainTodayCnt:1 0,Handle:1,Respond:250 Mail OK\r\n,Result:OK,DebugInfo:FreeIP,SendCtrlRuleID:0,optime:0,delaytime:0,errinfo:]
11:46:18 [cmd:RCPT,Q:M001TEEAAIqQD2A/TCgA,tid:AQAAfwCHGCKKkA9gNzkoAA--.8092S2,ip:10.66.111.2,ClientIp:10.66.111.2,FreeIP:1,FreeIPFlag:2,ssl:0,CmProtocol:0,Sender:aboobear@longger.com.cn,SenderEmail:,Rcpt:lys@cctgroup.com.cn,Local:0,MdRet:257,RcptOu:,HoneypotRcpt:0,IsLmtpRcpt:0,RcptMailSize:0,RcptMailQuantity:0,RuleID:0,RuleName:,PolicyID:0,UsrQuarterCnt:1(-1)\, 0(-1),UsrTodayCnt:1(-1)\, 0(-1),Respond:550 User not found\: lys@cctgroup.com.cn\r\n,Result:Reject,DebugInfo:R_INVALID_USER,SendCtrlRuleID:0,optime:0,delaytime:0,errinfo:]
11:46:18 [cmd:DISCONNECT,Q:M001TEEAAIqQD2A/TCgA,tid:AQAAfwCHGCKKkA9gNzkoAA--.8092S2,ip:10.66.111.2,ClientIp:10.66.111.2,FreeIP:1,FreeIPFlag:2,ssl:0,Sender:aboobear@longger.com.cn,FromDN:,org_id:,org_unit_id:@,Size:0,Rcpt:,lrcptcnt:0,rrcptcnt:0,MailCnt:0,SmtpState:9,Handle:0,Delivered:0,Respond:221 Bye\r\n,optime:0,delaytime:0,errinfo:]

    </script>
</body>

</html>